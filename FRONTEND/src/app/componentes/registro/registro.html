<div class="register-page-container">
  <div class="row g-0 h-100">
    
    <!-- Columna izquierda -->
    <div class="col-lg-4 register-promo-section">
      <div class="register-promo-content">
        <div class="promo-icon">
          <i class="fas fa-store"></i>
        </div>
        
        <h1 class="promo-title">Únete a Nosotros</h1>
        <p class="promo-subtitle">Crea tu cuenta y disfruta de deliciosa comida</p>
        
        <!-- Características -->
        <div class="promo-features">
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-bolt"></i>
            </div>
            <span class="feature-text">Pedidos rápidos y seguros</span>
          </div>
          
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-gift"></i>
            </div>
            <span class="feature-text">Ofertas y cupones exclusivos</span>
          </div>
          
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-clock"></i>
            </div>
            <span class="feature-text">Historial de pedidos</span>
          </div>
          
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-truck"></i>
            </div>
            <span class="feature-text">Entrega a domicilio</span>
          </div>
          
        </div>
      </div>
    </div>
    
    <!-- Columna derecha -->
    <div class="col-lg-8 register-form-section">
      <div class="register-form-container">
        
        <div class="register-header mb-4">
          <h2 class="register-title">Crear una Cuenta</h2>
          <p class="register-subtitle">¡Regístrate y comienza a ordenar hoy mismo!</p>
        </div>

        <form (ngSubmit)="onSubmit()">
          
          @if (errorMessage) {
            <div class="alert alert-danger mb-4" role="alert">
              {{ errorMessage }}
            </div>
          }

          @if (successMessage) {
            <div class="alert alert-success mb-4" role="alert">
              {{ successMessage }}
            </div>
          }

          <!-- Campos del formulario -->
          <div class="form-group mb-3">
            <label for="nombre" class="form-label">Nombre</label>
            <div class="input-with-icon">
              <i class="fas fa-user input-icon"></i>
              <input
                type="text"
                class="form-control"
                id="nombre"
                placeholder="Ingresa tu nombre"
                required
                [(ngModel)]="registroData.nombre"
                name="nombre"
              />
            </div>
          </div>

          <div class="form-group mb-3">
            <label for="apellido" class="form-label">Apellido</label>
            <div class="input-with-icon">
              <i class="fas fa-user input-icon"></i>
              <input
                type="text"
                class="form-control"
                id="apellido"
                placeholder="Ingresa tu apellido"
                [(ngModel)]="registroData.apellido"
                name="apellido"
              />
            </div>
          </div>

          <div class="form-group mb-3">
            <label for="email" class="form-label">Correo electrónico</label>
            <div class="input-with-icon">
              <i class="fas fa-envelope input-icon"></i>
              <input
                type="email"
                class="form-control"
                id="email"
                placeholder="tu@email.com"
                required
                [(ngModel)]="registroData.email"
                name="email"
              />
            </div>
          </div>

          <div class="form-group mb-3">
            <label for="telefono" class="form-label">Teléfono (opcional)</label>
            <div class="input-with-icon">
              <i class="fas fa-phone input-icon"></i>
              <input
                type="tel"
                class="form-control"
                id="telefono"
                placeholder="+51 999 999 999"
                [(ngModel)]="registroData.telefono"
                name="telefono"
              />
            </div>
          </div>

          <div class="form-group mb-3">
            <app-campo-ubicacion
              etiqueta="Dirección (opcional)"
              nombreCampo="direccionRegistro"
              [placeholder]="'Av. Principal 123'"
              [(direccion)]="registroData.direccion">
            </app-campo-ubicacion>
          </div>

          <!-- Contraseñas -->
          <div class="form-group mb-3">
            <label for="password" class="form-label">Contraseña</label>
            <div class="input-with-icon password-input-container">
              <i class="fas fa-lock input-icon"></i>
              <input
                [type]="mostrarContrasena ? 'text' : 'password'"
                class="form-control"
                id="password"
                placeholder="Mínimo 6 caracteres"
                required
                [(ngModel)]="registroData.contrasena"
                name="contrasena"
              />
              <button
                type="button"
                class="toggle-password-btn"
                (click)="toggleMostrarContrasena()"
                [attr.aria-label]="mostrarContrasena ? 'Ocultar contraseña' : 'Mostrar contraseña'"
              >
                <i [class]="mostrarContrasena ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
              </button>
            </div>
          </div>

          <div class="form-group mb-3">
            <label for="confirmPassword" class="form-label">Confirmar Contraseña</label>
            <div class="input-with-icon password-input-container">
              <i class="fas fa-lock input-icon"></i>
              <input
                [type]="mostrarConfirmarContrasena ? 'text' : 'password'"
                class="form-control"
                id="confirmPassword"
                placeholder="Repite tu contraseña"
                required
                [(ngModel)]="registroData.confirmarContrasena"
                name="confirmarContrasena"
              />
              <button
                type="button"
                class="toggle-password-btn"
                (click)="toggleMostrarConfirmarContrasena()"
                [attr.aria-label]="mostrarConfirmarContrasena ? 'Ocultar contraseña' : 'Mostrar contraseña'"
              >
                <i [class]="mostrarConfirmarContrasena ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
              </button>
            </div>
          </div>
          
          <div class="form-check mb-4">
            <input 
              class="form-check-input" 
              type="checkbox" 
              id="termsAndConditions" 
              [(ngModel)]="aceptoTerminos"
              name="aceptoTerminos"
            >
            <label class="form-check-label" for="termsAndConditions">
              Acepto los <a routerLink="/terminos-y-condiciones" target="_blank" class="terms-link">Términos y Condiciones</a> y la <a routerLink="/politica-de-privacidad" target="_blank" class="terms-link">Política de Privacidad</a>
            </label>
          </div>
          
          <button type="submit" class="btn btn-register w-100 mb-4" [disabled]="loading || !aceptoTerminos">
            @if (loading) {
              <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
              Registrando...
            } @else {
              <i class="fas fa-user-plus me-2"></i>
              Crear Cuenta
            }
          </button>

          <!-- Enlace al login -->
          <div class="text-center">
            <p class="mb-0 text-muted">
              ¿Ya tienes una cuenta? 
              <a routerLink="/login" class="login-link"> 
                Iniciar Sesión
              </a>
            </p>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>